<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Login Page</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script>
      function validate() {
        event.preventDefault();
        console.log("this is from function");
        let point_to_p = document.getElementById("err_dis");
        let form_pointer = document.getElementById("myform");
        var check_username = form_pointer.elements["user_name"].value;
        var check_password = form_pointer.elements["password"].value;

        if (
          /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(
            form_pointer.elements["user_name"].value
          )
        ) {
          point_to_p.style.visibility = "hidden";
        } else {
          point_to_p.style.visibility = "visible";
          point_to_p.innerHTML = "Invalid Email";
          return false;
        }
        var passw = /^[A-Za-z]\w{7,14}$/;
        if (passw.test(check_password)) {
          point_to_p.style.visibility = "hidden";
        } else {
          point_to_p.style.visibility = "visible";
          point_to_p.innerHTML =
            "Password requires at 7 letters and start with alphabets";

          return false;
        }

        return true;
      }
    </script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"
    />
  </head>
  <body>
    <section class="hero is-centered is-fullheight">
      <div class="hero-body">
        <div class="container">
          <div class="container is-max-width">
            <div class="columns is-centered">
              <div class="column is-5-tablet is-4-desktop is-4-widescreen">
                <form
                  onsubmit="validate()"
                  action="/auth/loggedin"
                  method="post"
                  class="box"
                  id="myform"
                >
                  <div class="columns is-mobile is-centered is-vcentered">
                    <div class="column">
                      <img src="/LOGO1.png" alt="" />
                    </div>
                    <div class="column">
                      <span class="title is-italic">ABC Limited</span><br />
                      <span class="subtitle is-italic">Enjoy Sports Event</span>
                    </div>
                  </div>

                  <div class="field m-2">
                    <label class="label">Email:<span id="star">*</span></label>
                    <p class="control has-icons-left has-icons-right">
                      <input
                        class="input"
                        type="email"
                        placeholder="Email"
                        name="user_name"
                        required
                      />
                      <span class="icon is-small is-left">
                        <i class="fa fa-envelope"></i>
                      </span>
                    </p>
                  </div>
                  <div class="field mb-2">
                    <label class="label"
                      >Password:<span id="star">*</span></label
                    >
                    <p class="control has-icons-left">
                      <input
                        class="input"
                        type="password"
                        placeholder="Password"
                        name="password"
                        required
                      />
                      <span class="icon is-small is-left">
                        <i class="fa fa-lock"></i>
                      </span>
                    </p>
                  </div>
                  <div class="field mb-0">
                    <p class="has-text-red" style="color: red" id="err_dis"></p>
                  </div>
                  <div class="field has-text-centered mb-2">
                    <button class="button is-success">Login</button>
                  </div>

                  <div class="has-text-centered">
                    <p class="is-italic">Dont have account?</p>
                    <p class="is-italic">
                      <a href="/auth/register">Register</a>
                    </p>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </body>
  <style>
    body {
      background-image: url("images/b3.jpg");
      background-repeat: no-repeat;
      background-size: cover;
      opacity: 0.9;
    }
    img {
      width: 9rem;
      height: 7rem;
      margin-left: 5%;
    }
    #star {
      color: red;
    }
  </style>
</html>
